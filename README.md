# Avoided connections

Существует газета электронных объявлений, в которой есть раздел «Ищу тебя», где люди могут создать пост о человеке,
увиденном на улице или в любом общественном месте, который улыбнулся им или пересёкся взглядом. Они надеятся, что
человек прочитает это объявление и откликнется. Мы сделаем наоборот: про людей, которых вы увидели в общественном месте
и быстро отвернулись, надеясь, что они не заговорят с вами. Обычно это нищие, мошенники и алкаши в общественном
транспорте. Некоторые из этих типов людей могут делать эксцентричные вещи, особенно если они пьяные, так что это будет
прекрасная возможность поделиться историей.

Выполнено студентами группы 6301-010302D Мусаиловым Даниэлем и Бабошиным Никитой

Ссылка на
тесты в Postman: https://bold-flare-58914.postman.co/workspace/New-Team-Workspace~c5d4a00c-b124-4f48-b7fa-27efb6a1c9b7/collection/34548696-de5bf14a-7eec-4dfb-bba7-f659999e0fb2?action=share&creator=34548696

Cсылка на отчеты: https://docs.google.com/document/d/12-FoXGP6h6zwiD5vg7nZ-2NXPtGXAAm6AWw77C3GSmA/edit?usp=sharing

# 1. Проектирование архитектуры

Схема взаимодействия компонентов:
- Клиент (Frontend): Веб-приложение, через которое пользователи (авторы историй и комментаторы) взаимодействуют с системой.
- Сервер (Backend): Обрабатывает запросы от клиента, выполняет бизнес-логику и взаимодействует с базой данных.
- База данных (DB): Хранит информацию о пользователях, историях, комментариях и т.д.

Схема взаимодействия:
Клиент (Frontend) -> Сервер (Backend) -> База данных (DB)

# 2. Логическая схема базы данных

Сущности:
1. Comment (Комментарий):
    - `id` (Primary Key)
    - `writer_id` (Foreign Key к таблице User)
    - `story_id` (Foreign Key к таблице Story)
    - `date` (Дата)
    - `text` (Текст комментария)

2. Story (История):
    - `id` (Primary Key)
    - `user_id` (Foreign Key к таблице User)
    - `usersTag` (Foreign Key к связующей таблице users_tag)
    - `head` (Заголовок)
    - `img` (Ссылка на рисунок)
    - `text` (Текст истории)
    - `date` (Дата)
    - `city` (Город истории)

3. User (Пользователь):
    - `id` (Primary Key)
    - `stories` (Foreign Key к связующей таблице users_tag)
    - `name` (Логин пользователя)
    - `icon` (Ссылка на иконку пользователя)
    - `password` (Пароль)

Связи:
- Many-to-Many: Связь между ‘Story’ и ‘User’ с использованием связующей таблицы для связи.

# 3. Структура API

1. Аутентификация (AuthController)
- POST /auth/signIn — авторизация пользователя
- POST /auth/signUp — регистрация пользователя
- POST /auth/refresh — обновление токена
- POST /auth/logout — выход пользователя
2. Главная страница (MainController)
- POST /mainInfo — получение историй и поиск
3. Профиль (ProfileController)
- GET /profile/user — получение текущего пользователя
- GET /profile/user/{userId} — получение пользователя по id
- GET /profile/story — получение списка историй пользователя
- GET /profile/story/{userId} — получение списка историй по id пользователя 
- GET /profile/storyTag — получение списка историй, в которых отмечен пользователь
- GET /profile/storyTag/{userId} — получение списка историй, в которых отмечен определенный пользователь (по его id)
4. История (StoryController)
- GET /story/{storyId} — получение истории по id
- GET /story/{storyId}/comment — получение комментариев к истории
- GET /story/image/{Id} — получение изображения к истории
- POST /story/{storyId}/addComment — добавление комментария к истории
- DELETE /story/{storyId}/delete — удаление истории
5. Добавление истории (AddStoryController)
- POST /addStory/new — добавление истории

# 4. Стек технологий

-	Frontend: HTML/CSS, JavaScript.
-	Backend: Spring (Java).
-	База данных: PostgreSQL.
-	API: RESTful API.
     Дополнительные технологии:
-	ORM: Hibernate (для работы с базой данных в Spring Boot).
-	Аутентификация: Spring Security (для управления доступом и аутентификацией).
-	Документация API: Postman.
-	Документация в GitHub: Markdown API
